###### tags: `sqlschemaInfo` `èªªæ˜æ–‡ä»¶`
# ç³»çµ±ä½¿ç”¨èªªæ˜
## å®‰è£ç’°å¢ƒ
ä¸‹è¼‰ [.Net Core 3.1](https://dotnet.microsoft.com/en-us/download/dotnet/3.1)

![](https://i.imgur.com/bQuDYvL.png)


## å¦‚ä½•åŸ·è¡Œ ?
1. ä¸‹è¼‰å°ˆæ¡ˆ
2. æ‰“é–‹ `appsettings.json`ï¼Œè¼¸å…¥è³‡æ–™åº«è³‡è¨Š

![](https://i.imgur.com/Taoh5v2.png)

3. åŸ·è¡Œ `WebAPI.exe`ï¼Œé€£ç·š http://localhost:5000


# è‡ªå‹•åŒ–æ“·å–è¨»è§£
> execute: regex.py

## æ³¨æ„äº‹é …
### 1. Table / View / Function / Procedure çš„è¨»è§£è«‹å¯«åœ¨ `create` é‚£ä¸€è¡Œ

example. 
```sql=
CREATE TABLE Restaurant ( -- å…¨å°æ‰€æœ‰é¤å»³
    ...
);
```
### 2. æ¬„ä½è¨»è§£è«‹è·Ÿè¦è¨»è§£çš„æ¬„ä½åç¨±å¯«åœ¨åŒä¸€è¡Œ

example. 
```sql=
CREATE TABLE Restaurant (
    RID int, -- ID
    PictureUrl varchar(400), -- ç…§ç‰‡é€£çµ
    PictureDes nvarchar(8000), -- ç…§ç‰‡ä»‹ç´¹
    OpenTime nvarchar(1000), -- ç‡Ÿæ¥­æ™‚é–“
    ParkingInfo nvarchar(1000) -- åœè»Šè³‡è¨Š
);
```

### 3. Function / Procedure çš„åƒæ•¸å‘½åä¸è¦åŠ  `AS`
example.

```sql=
CREATE PROCEDURE get_city  -- å–å¾—ç¸£å¸‚
	@city VARCHAR(20) -- ç¸£å¸‚è³‡è¨Š
    -- @city AS VARCHAR(20)  (X)
AS
BEGIN
...
```

## View Table ä½¿ç”¨ä¾‹å¤–
view table å¯«æ³•è¼ƒç‚ºå¤šå…ƒï¼Œæ‰€ä»¥æœ‰å¯èƒ½æœƒæŠ“ä¸åˆ°è¨»è§£ ... QQ
ç›®å‰åªæœ‰é€™æ¬¾å¯«æ³•æœƒéï¼š

```sql=
CREATE VIEW vd_Spot AS  -- spot view table
SELECT 
    o.OID as OID,  -- ID
    o.CName as Name, -- æ™¯é»åç¨±
    o.Type as Type,  -- æ™¯é»ç¨®é¡
    c2.CName as city, -- æ‰€åœ¨ç¸£å¸‚
    c.CName as town,   -- æ‰€åœ¨åŸé®
    s.PictureUrl as PictureUrl  -- ç…§ç‰‡é€£çµ
FROM Object o, Class c, Class c2, CO, ScenicSpot s, Inheritance i
...
```

### è§£æ±ºæ–¹æ³•
1. å¤šå¯«ä¸€é» Regex expression
2. ç›´æ¥é–‹å‰ç«¯å¯«è¨»è§£ (æ¨ ğŸ‘ğŸ»)

## å¦‚ä½•åŸ·è¡Œ
1. æ‰“é–‹ `regex.py` å¡«ä¸Šè¼¸å…¥è³‡æ–™å¤¾åŠè¼¸å‡ºæª”æ¡ˆçš„è·¯å¾‘

![](https://i.imgur.com/umahVc4.png)

:::warning
ğŸ“Œ è«‹æŠŠæ‰€æœ‰è¦é€²è¡Œæˆªå–è¨»è§£çš„ `.sql` æª”æ”¾åˆ°åŒä¸€å€‹è³‡æ–™å¤¾å…§ !!
:::

2. åŸ·è¡Œ `python3 regex.py`


